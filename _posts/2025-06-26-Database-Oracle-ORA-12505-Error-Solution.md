---
title: "Oracle ORA-12505 에러 해결"
date: 2025-06-26
categories: ["Categories","Database", "Oracle", "Etc"]
taxonomy: Oracle_Etc
---

> **netca 설정을 완료했음에도 ORA-12505 에러가 발생하는 경우, 리스너 상태를 확인하고 적절한 설정을 통해 문제를 해결할 수 있습니다.**

---

## 1. ORA-12505 에러 개요

### 1-1. 에러 메시지
```
ORA-12505: TNS:listener does not currently know of SID given in connect descriptor
```

### 1-2. 발생 원인
- 리스너가 지정된 SID를 인식하지 못함
- 데이터베이스 인스턴스가 등록되지 않음
- listener.ora 설정 문제
- 데이터베이스 서비스가 시작되지 않음

---

## 2. 문제 진단 및 해결 과정

### 2-1. 리스너 상태 확인
```bash
[oracle@oraser01 admin]$ lsnrctl status
```

**정상적인 리스너 상태 출력:**
```
LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 12-JUN-2024 16:27:51

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.56.10)(PORT=1521)))

STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                12-JUN-2024 16:27:49
Uptime                    0 days 0 hr. 0 min. 2 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /app/ora19c/19c/network/admin/listener.ora
Listener Log File         /app/ora19c/diag/tnslsnr/oraser01/listener/alert/log.xml

Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.56.10)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

The listener supports no services
The command completed successfully
```

### 2-2. 문제점 식별
**"The listener supports no services"** 문구가 나타나면 문제가 있음을 의미합니다.

- 리스너가 켜지기만 하고 기능을 못하고 있는 상태
- 시간이 지나면 서비스가 자동으로 올라오기도 하지만, 즉시 해결하려면 수동 설정 필요

---

## 3. 해결 방법

### 3-1. listener.ora 파일 수정
```bash
[oracle@oraser01 admin]$ vi /app/ora19c/19c/network/admin/listener.ora
```

**수정할 내용:**
```ora
# listener.ora Network Configuration File: /app/ora19c/19c/network/admin/listener.ora
# Generated by Oracle configuration tools.

SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = ORCL)
      (ORACLE_HOME = /app/ora19c/19c)
    )
  )

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.56.10)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )
```

### 3-2. SID_LIST_LISTENER 설정 설명
- **SID_NAME**: 데이터베이스 SID (예: ORCL)
- **ORACLE_HOME**: Oracle 홈 디렉토리 경로
- 이 설정을 통해 리스너가 시작 시부터 서비스 정보를 인식할 수 있음

---

## 4. 리스너 재시작

### 4-1. 리스너 중지
```bash
[oracle@oraser01 admin]$ lsnrctl stop

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 12-JUN-2024 16:33:24

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.56.10)(PORT=1521)))
The command completed successfully
```

### 4-2. 리스너 시작
```bash
[oracle@oraser01 admin]$ lsnrctl start

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 12-JUN-2024 16:33:26

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Starting /app/ora19c/19c/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 19.0.0.0.0 - Production
System parameter file is /app/ora19c/19c/network/admin/listener.ora
Log messages written to /app/ora19c/diag/tnslsnr/oraser01/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.56.10)(PORT=1521)))
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.56.10)(PORT=1521)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                12-JUN-2024 16:33:26
Uptime                    0 days 0 hr. 0 min. 0 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /app/ora19c/19c/network/admin/listener.ora
Listener Log File         /app/ora19c/diag/tnslsnr/oraser01/listener/alert/log.xml

Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.56.10)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

Services Summary...
Service "ORCL" has 1 instance(s).
  Instance "ORCL", status UNKNOWN, has 1 handler(s) for this service...

The command completed successfully
```

---

## 5. 해결 확인

### 5-1. 성공적인 리스너 상태
**"Services Summary..."** 섹션이 나타나고 **"Service 'ORCL' has 1 instance(s)"** 메시지가 표시되면 정상입니다.

### 5-2. 연결 테스트
```bash
# SQL*Plus로 연결 테스트
sqlplus username/password@//192.168.56.10:1521/ORCL

# 또는 tnsping으로 연결 테스트
tnsping ORCL
```

---

## 6. 추가 문제 해결 방법

### 6-1. 데이터베이스 인스턴스 상태 확인
```sql
-- 데이터베이스에 접속하여 인스턴스 상태 확인
SELECT instance_name, status, database_status 
FROM v$instance;
```

### 6-2. 서비스 등록 확인
```sql
-- 현재 등록된 서비스 확인
SELECT name, network_name, creation_date 
FROM v$services;
```

### 6-3. 리스너 로그 확인
```bash
# 리스너 로그 파일 확인
tail -f /app/ora19c/diag/tnslsnr/oraser01/listener/alert/log.xml
```

---

## 7. 예방 방법

### 7-1. 자동 서비스 등록 설정
**tnsnames.ora** 파일에서 **SERVICE_NAME** 사용:
```
ORCL =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.56.10)(PORT = 1521))
    (CONNECT_DATA =
      (SERVICE_NAME = ORCL)
    )
  )
```

### 7-2. 리스너 자동 시작 설정
```bash
# 시스템 부팅 시 리스너 자동 시작 설정
systemctl enable oracle-listener
```

---

## 8. 주의사항

### 8-1. 보안 고려사항
- 프로덕션 환경에서는 적절한 보안 설정 필요
- 방화벽 설정 확인
- 네트워크 접근 제어 설정

### 8-2. 성능 최적화
- 리스너 연결 풀 설정
- 로드 밸런싱 설정
- 연결 타임아웃 설정

---

> ORA-12505 에러는 주로 리스너 설정 문제로 발생하므로, SID_LIST_LISTENER 설정을 통해 사전에 서비스 정보를 등록하는 것이 효과적입니다. 