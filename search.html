---
layout: single
title: "검색"
permalink: /search/
author_profile: false
---

<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
  <h2>블로그 포스트 검색</h2>
  <p>제목, 내용, 카테고리에서 검색할 수 있습니다</p>
  
  <div style="margin-bottom: 30px;">
    <input type="text" id="search-input" placeholder="검색어를 입력하세요..." 
           style="width: 100%; padding: 15px; font-size: 16px; border: 2px solid #ddd; border-radius: 8px;">
  </div>
  
  <div id="search-results">
    <p>검색 데이터를 로딩 중...</p>
  </div>
</div>

<script>
// 간단한 테스트용 데이터
const testPosts = [
  {
    title: "Oracle 19c CentOS7 설치 가이드",
    date: "2025-06-17",
    categories: ["Database", "Oracle", "Install"],
    url: "/oracle-19c-install/",
    content: "Oracle Database 설치 방법을 설명합니다."
  },
  {
    title: "Oracle Statspack 가이드",
    date: "2025-06-16", 
    categories: ["Database", "Oracle", "Performance"],
    url: "/oracle-statspack/",
    content: "Statspack을 이용한 성능 분석 방법입니다."
  }
];

function initSearch() {
  const searchInput = document.getElementById('search-input');
  const searchResults = document.getElementById('search-results');
  
  if (!searchInput || !searchResults) {
    console.error('검색 요소를 찾을 수 없습니다');
    return;
  }
  
  // 처음에 모든 포스트 표시
  displayResults(testPosts, '');
  
  // 검색 기능
  searchInput.addEventListener('input', function(e) {
    const query = e.target.value.toLowerCase();
    
    if (!query) {
      displayResults(testPosts, '');
      return;
    }
    
    const results = testPosts.filter(post => 
      post.title.toLowerCase().includes(query) ||
      post.content.toLowerCase().includes(query) ||
      post.categories.some(cat => cat.toLowerCase().includes(query))
    );
    
    displayResults(results, query);
  });
}

function displayResults(results, query) {
  const searchResults = document.getElementById('search-results');
  
  if (results.length === 0) {
    searchResults.innerHTML = `
      <div style="text-align: center; padding: 40px; color: #666;">
        <h3>검색 결과가 없습니다</h3>
        <p>"${query}"에 대한 검색 결과를 찾을 수 없습니다.</p>
      </div>
    `;
    return;
  }
  
  const resultsHtml = `
    <div style="margin-bottom: 20px; color: #666; border-bottom: 1px solid #eee; padding-bottom: 10px;">
      ${query ? `"${query}"에 대한 ` : '전체 '}검색 결과: <strong>${results.length}개</strong>
    </div>
    ${results.map(post => `
      <div style="background: white; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <h3 style="margin: 0 0 10px 0;">
          <a href="${post.url}" style="color: #2c3e50; text-decoration: none;">${post.title}</a>
        </h3>
        <div style="color: #666; font-size: 14px; margin-bottom: 10px;">
          ${post.date} | ${post.categories.join(', ')}
        </div>
        <p style="color: #666; margin: 0;">${post.content}</p>
      </div>
    `).join('')}
  `;
  
  searchResults.innerHTML = resultsHtml;
}

// 페이지 로드 시 실행
document.addEventListener('DOMContentLoaded', initSearch);

// 만약 DOMContentLoaded가 이미 실행되었다면
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initSearch);
} else {
  initSearch();
}
</script>
